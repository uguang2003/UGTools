# UGTools é¡¹ç›®ä»‹ç»

> åŸºäº MooTool æ”¹é€ çš„ä¸ªäººå®šåˆ¶ç‰ˆæ¡Œé¢å¼€å‘è€…æ•ˆç‡å·¥å…·é›†

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

UGTools æ˜¯ä¸€æ¬¾è·¨å¹³å°çš„æ¡Œé¢ç«¯å¼€å‘è€…æ•ˆç‡å·¥å…·é›†ï¼Œé‡‡ç”¨ Java Swing æ„å»ºï¼Œä½¿ç”¨ FlatLaf ä¸»é¢˜æ¡†æ¶æä¾›ç°ä»£åŒ–çš„ UI ä½“éªŒã€‚é¡¹ç›®åŸºäºå¼€æºé¡¹ç›® MooTool æ”¹é€ ï¼Œå»é™¤äº†åŸæœ‰çš„æ¨å¹¿ä¸ç»Ÿè®¡åŠŸèƒ½ï¼Œä¿ç•™å¹¶ä¼˜åŒ–äº†æ ¸å¿ƒå·¥å…·æ¨¡å—ï¼Œæ‰“é€ æˆä¸ªäººè‡ªç”¨ç‰ˆæœ¬ã€‚

### ä¸»è¦ç‰¹æ€§
- ğŸ¨ ç°ä»£åŒ– UI è®¾è®¡ï¼Œæ”¯æŒå¤šç§ä¸»é¢˜åˆ‡æ¢ï¼ˆæ·±è‰²/æµ…è‰²/è·Ÿéšç³»ç»Ÿï¼‰
- ğŸ’¾ æœ¬åœ° SQLite æ•°æ®åº“å­˜å‚¨ï¼Œæ•°æ®å®Œå…¨ç¦»çº¿
- ğŸš€ JVM å‚æ•°ä¼˜åŒ–ï¼Œä½¿ç”¨ ZGC åƒåœ¾å›æ”¶å™¨
- ğŸ“¦ æ”¯æŒæ‰“åŒ…æˆ Windows EXE / macOS App / Linux å¯æ‰§è¡Œæ–‡ä»¶
- ğŸ”§ 20+ å¼€å‘è€…å¸¸ç”¨å·¥å…·é›†æˆ

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒä¾èµ–

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Java** | 21 | æ ¸å¿ƒå¼€å‘è¯­è¨€ï¼ˆéœ€è¦ JDK 21+ï¼‰ |
| **Maven** | 3.x | é¡¹ç›®æ„å»ºä¸ä¾èµ–ç®¡ç† |
| **FlatLaf** | 3.6.2 | ç°ä»£åŒ– Swing UI ä¸»é¢˜æ¡†æ¶ |
| **SQLite** | 3.43.0 | åµŒå…¥å¼æ•°æ®åº“ |
| **MyBatis** | 3.5.13 | ORM æŒä¹…å±‚æ¡†æ¶ |
| **Hutool** | 5.8.22 | Java å·¥å…·ç±»åº“ |
| **OkHttp** | 4.11.0 | HTTP å®¢æˆ·ç«¯ |
| **ZXing** | 3.5.3 | äºŒç»´ç ç”Ÿæˆä¸è§£æ |
| **RSyntaxTextArea** | 3.6.0 | ä»£ç è¯­æ³•é«˜äº®ç¼–è¾‘å™¨ |
| **Logback** | 1.4.11 | æ—¥å¿—æ¡†æ¶ |

### å…¶ä»–é‡è¦ä¾èµ–

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Groovy** | 4.0.15 | åŠ¨æ€è¯­è¨€æ”¯æŒï¼ˆJava æ§åˆ¶å°ï¼‰ |
| **JavaParser** | 3.26.2 | Java ä»£ç è§£æä¸æ ¼å¼åŒ– |
| **cron-utils** | 9.2.1 | Cron è¡¨è¾¾å¼è§£æ |
| **iTextPDF** | 5.5.1 | PDF å¤„ç† |
| **SnakeYAML** | 1.23 | YAML è§£æ |
| **FastJSON** | 2.0.40 | JSON å¤„ç† |
| **Jackson** | 2.13.3 | JSON/XML è½¬æ¢ |
| **java-diff-utils** | 4.16 | æ–‡æœ¬å·®å¼‚å¯¹æ¯” |
| **JNA** | 5.13.0 | æœ¬åœ°ç³»ç»Ÿè°ƒç”¨ |
| **OSHI** | 6.4.6 | ç³»ç»Ÿä¿¡æ¯è·å– |

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
UGTools/
â”œâ”€â”€ pom.xml                          # Maven é…ç½®æ–‡ä»¶ï¼ˆå«æ‰“åŒ…é…ç½®ï¼‰
â”œâ”€â”€ readme.md                        # åŠŸèƒ½åˆ—è¡¨è¯´æ˜
â”œâ”€â”€ PROJECT_INTRO.md                 # é¡¹ç›®è¯¦ç»†ä»‹ç»ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ UGTools.l4j.ini                  # Launch4j é…ç½®ï¼ˆå¯é€‰ï¼‰
â”‚
â”œâ”€â”€ assets/                          # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ icons/                       # å¤šå¹³å°å›¾æ ‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ android/res/             # Android å„åˆ†è¾¨ç‡å›¾æ ‡
â”‚   â”‚   â”œâ”€â”€ ios/                     # iOS å›¾æ ‡
â”‚   â”‚   â”œâ”€â”€ macos/                   # macOS .icns å›¾æ ‡
â”‚   â”‚   â”œâ”€â”€ web/                     # Web favicon
â”‚   â”‚   â””â”€â”€ windows/                 # Windows .ico å›¾æ ‡
â”‚   â”œâ”€â”€ logo/                        # Logo åŸå§‹èµ„æº
â”‚   â”œâ”€â”€ linux/                       # Linux æ¡Œé¢å›¾æ ‡
â”‚   â”œâ”€â”€ mac/                         # macOS ç‰¹å®šèµ„æº
â”‚   â”œâ”€â”€ material/                    # ç´ ææ–‡ä»¶
â”‚   â””â”€â”€ windows/                     # Windows ç‰¹å®šèµ„æº
â”‚
â”œâ”€â”€ lib/                             # ç¬¬ä¸‰æ–¹æœ¬åœ°åº“ï¼ˆå¦‚éœ€è¦ï¼‰
â”‚
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/top/
â”‚   â”‚   â”œâ”€â”€ jthemedetecor/           # ç³»ç»Ÿä¸»é¢˜æ£€æµ‹å™¨ï¼ˆè·Ÿéšç³»ç»Ÿæ·±æµ…è‰²ï¼‰
â”‚   â”‚   â””â”€â”€ ug666/ug/tools/
â”‚   â”‚       â”œâ”€â”€ App.java             # â­ åº”ç”¨ç¨‹åºä¸»å…¥å£
â”‚   â”‚       â”œâ”€â”€ bean/                # æ•°æ®å®ä½“ç±»ï¼ˆMyBatis æ˜ å°„ï¼‰
â”‚   â”‚       â”œâ”€â”€ dao/                 # æ•°æ®è®¿é—®å±‚æ¥å£
â”‚   â”‚       â”œâ”€â”€ domain/              # é¢†åŸŸæ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ enums/               # æšä¸¾å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ service/             # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚       â”œâ”€â”€ ui/                  # ç”¨æˆ·ç•Œé¢
â”‚   â”‚       â”‚   â”œâ”€â”€ component/       # è‡ªå®šä¹‰ Swing ç»„ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ dialog/          # å¼¹å‡ºå¯¹è¯æ¡†
â”‚   â”‚       â”‚   â”œâ”€â”€ form/            # è¡¨å•ç•Œé¢ï¼ˆå« .form GUI è®¾è®¡æ–‡ä»¶ï¼‰
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ func/        # å„åŠŸèƒ½æ¨¡å—è¡¨å•ï¼ˆ21ä¸ªåŠŸèƒ½ï¼‰
â”‚   â”‚       â”‚   â”œâ”€â”€ frame/           # ä¸»çª—å£æ¡†æ¶
â”‚   â”‚       â”‚   â”œâ”€â”€ listener/        # äº‹ä»¶ç›‘å¬å™¨
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ func/        # å„åŠŸèƒ½æ¨¡å—ç›‘å¬å™¨
â”‚   â”‚       â”‚   â”œâ”€â”€ FuncConsts.java  # åŠŸèƒ½å¸¸é‡å®šä¹‰
â”‚   â”‚       â”‚   â”œâ”€â”€ Init.java        # åˆå§‹åŒ–ç±»ï¼ˆä¸»é¢˜ã€å­—ä½“ç­‰ï¼‰
â”‚   â”‚       â”‚   â”œâ”€â”€ Style.java       # æ ·å¼å¸¸é‡
â”‚   â”‚       â”‚   â””â”€â”€ UiConsts.java    # UI å¸¸é‡
â”‚   â”‚       â””â”€â”€ util/                # å·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ ConfigUtil.java      # é…ç½®ç®¡ç†
â”‚   â”‚           â”œâ”€â”€ ConfigBaseUtil.java  # é…ç½®åŸºç±»
â”‚   â”‚           â”œâ”€â”€ MybatisUtil.java     # MyBatis å·¥å…·
â”‚   â”‚           â”œâ”€â”€ SystemUtil.java      # ç³»ç»Ÿå·¥å…·
â”‚   â”‚           â””â”€â”€ UpgradeUtil.java     # ç‰ˆæœ¬å‡çº§å·¥å…·
â”‚   â”‚
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ db_init.sql              # æ•°æ®åº“åˆå§‹åŒ– SQL
â”‚       â”œâ”€â”€ mybatis-config.xml       # MyBatis é…ç½®
â”‚       â”œâ”€â”€ logback.xml              # æ—¥å¿—é…ç½®
â”‚       â”œâ”€â”€ generatorConfig.xml      # MyBatis Generator é…ç½®
â”‚       â”œâ”€â”€ version_summary.json     # ç‰ˆæœ¬ä¿¡æ¯
â”‚       â”œâ”€â”€ icon/                    # åº”ç”¨å†…å›¾æ ‡èµ„æº
â”‚       â”œâ”€â”€ mapper/                  # MyBatis Mapper XMLï¼ˆ13ä¸ªï¼‰
â”‚       â”œâ”€â”€ themes/                  # FlatLaf ä¸»é¢˜å±æ€§æ–‡ä»¶
â”‚       â””â”€â”€ upgrade/                 # æ•°æ®åº“ç‰ˆæœ¬å‡çº§è„šæœ¬
â”‚
â””â”€â”€ target/                          # Maven æ„å»ºè¾“å‡ºç›®å½•
```

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—

### ğŸ“ éšæ‰‹è®° (QuickNote)
- å¤šè¯­è¨€è¯­æ³•é«˜äº®ï¼ˆæ”¯æŒ 50+ ç§ç¼–ç¨‹è¯­è¨€ï¼‰
- SQL/JSON/Java ä»£ç æ ¼å¼åŒ–
- æ–‡æœ¬å¿«æ·æ“ä½œï¼ˆå»ç©ºæ ¼ã€å»ç©ºè¡Œã€å¤§å°å†™è½¬æ¢ã€é©¼å³°å‘½åè½¬æ¢ç­‰ï¼‰
- å¯¼å‡º/æ‰¹é‡å¯¼å‡ºï¼Œå…¨å±€æŸ¥æ‰¾
- è‡ªå®šä¹‰å­—ä½“ã€å­—å·ã€åˆ—è¡¨é¢œè‰²

### â° æ—¶é—´è½¬æ¢ (TimeConvert)
- æ—¶é—´æˆ³ä¸æ—¥æœŸæ—¶é—´äº’è½¬ï¼ˆæ¯«ç§’/ç§’ï¼‰
- å†å²è®°å½•
- å¤§å±æ—¶é’Ÿæ˜¾ç¤º

### ğŸ“Š JSON å·¥å…· (JsonBeauty)
- JSON æ ¼å¼åŒ–/å‹ç¼©
- JSON â†” XML äº’è½¬
- JavaBean â†” JSON äº’è½¬
- JsonPath æŸ¥è¯¢
- å¯è§†åŒ– JsonPath è·å–

### ğŸŒ ç¿»è¯‘ (Translation)
- ä¸­è‹±äº’è¯‘
- è‡ªåŠ¨è¯­è¨€æ£€æµ‹

### ğŸ–¥ï¸ Host ç®¡ç† (Host)
- Host æ–‡ä»¶æ ¼å¼åŒ–ä¸è¯­æ³•é«˜äº®
- æœ¬æœº Host ç®¡ç†ä¸æŸ¥çœ‹
- Host å¯¼å…¥/å¯¼å‡º

### ğŸ”— HTTP è¯·æ±‚ (HttpRequest)
- æ”¯æŒ GET/POST/PUT/DELETE/HEAD/PATCH/OPTIONS
- Header/Body æ ¼å¼åŒ–
- è¯·æ±‚ç®¡ç†ä¸å†å²è®°å½•

### ğŸ”„ ç¼–ç è½¬æ¢ (EnCode)
- Native â†” Unicode
- URL ç¼–ç /è§£ç 
- åå…­è¿›åˆ¶è½¬æ¢

### ğŸ“± äºŒç»´ç  (QrCode)
- äºŒç»´ç ç”Ÿæˆï¼ˆè‡ªå®šä¹‰å°ºå¯¸ã€çº é”™ç­‰çº§ã€Logoï¼‰
- äºŒç»´ç è§£æ
- å†å²è®°å½•

### ğŸ” åŠ è§£å¯†/éšæœº (Crypto)
- å¯¹ç§°åŠ å¯†ï¼šAESã€DES
- éå¯¹ç§°åŠ å¯†ï¼šRSA
- æ‘˜è¦ç®—æ³•ï¼šMD5ã€SHA1ã€SHA256ã€SHA384ã€SHA512
- Base64/Base32 ç¼–ç è§£ç 
- UUID ç”Ÿæˆã€éšæœºå­—ç¬¦ä¸²ã€å¤æ‚å¯†ç ç”Ÿæˆ

### ğŸ§® è®¡ç®—å™¨ (Calculator)
- å››åˆ™è¿ç®—
- è¿›åˆ¶è½¬æ¢
- æœ€å¤§å…¬çº¦æ•°/æœ€å°å…¬å€æ•°
- æ’åˆ—ç»„åˆè®¡ç®—

### ğŸŒ ç½‘ç»œå·¥å…· (Net)
- IP/åŸŸåæŸ¥è¯¢
- netstatã€ping
- IPv4 â†” Long è½¬æ¢
- åˆ·æ–° DNS

### ğŸ¨ è°ƒè‰²æ¿ (ColorBoard/ColorPicker)
- ä¸»é¢˜é¢œè‰²/æ ‡å‡†é¢œè‰²
- å±å¹•å–è‰²å™¨
- é¢œè‰²æ ¼å¼è½¬æ¢
- é¢œè‰²æ”¶è—

### ğŸ–¼ï¸ å›¾ç‰‡åŠ©æ‰‹ (Image)
- æœ¬åœ°å›¾åºŠ
- å›¾ç‰‡ Base64 ç¼–ç /è§£ç 

### â±ï¸ Cron è¡¨è¾¾å¼ (Cron)
- Cron è¡¨è¾¾å¼ç”Ÿæˆ/è§£æ/æ ¡éªŒ
- Cron è¡¨è¾¾å¼æ”¶è—
- å¸¸ç”¨ Cron è¡¨è¾¾å¼æ¨¡æ¿

### ğŸ“ æ­£åˆ™è¡¨è¾¾å¼ (Regex)
- æ­£åˆ™åŒ¹é…æµ‹è¯•
- æ­£åˆ™æ”¶è—
- å¸¸ç”¨æ­£åˆ™æ¨¡æ¿

### â˜• Java æ§åˆ¶å° (JavaConsole)
- Java/Groovy ä»£ç æ ¼å¼åŒ–ä¸é«˜äº®
- Java/Groovy ä»£ç è§£é‡Šæ‰§è¡Œ

### ğŸ“„ æ ¼å¼åŒ–å·¥å…· (FileReformatting)
- Nginx é…ç½®æ–‡ä»¶æ ¼å¼åŒ–
- XML/HTML/Java æ ¼å¼åŒ–

### ğŸ“‘ PDF å·¥å…· (Pdf)
- PDF æ‹†åˆ†
- PDF åˆå¹¶

### âš™ï¸ ç¯å¢ƒå˜é‡ (Variables)
- ç³»ç»Ÿç¯å¢ƒå˜é‡æŸ¥çœ‹
- Java ç¯å¢ƒå˜é‡æŸ¥çœ‹

### ğŸ”§ é…ç½®æ–‡ä»¶è½¬æ¢ (YmlProperties)
- Properties â†” YAML äº’è½¬

### ğŸ“Š æ–‡æœ¬å¯¹æ¯” (TextDiff)
- å¹¶æ’å¯¹æ¯”
- ç»Ÿä¸€å·®å¼‚è§†å›¾
- å·®å¼‚å¤åˆ¶

---

## ğŸ’¾ æ•°æ®å­˜å‚¨è¯¦è§£

### å­˜å‚¨ä½ç½®

æ‰€æœ‰ç”¨æˆ·æ•°æ®å’Œé…ç½®éƒ½å­˜å‚¨åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„ `.UGTools` æ–‡ä»¶å¤¹ä¸­ï¼š

| æ“ä½œç³»ç»Ÿ | è·¯å¾„ |
|---------|------|
| **Windows** | `C:\Users\<ç”¨æˆ·å>\.UGTools\` |
| **macOS** | `/Users/<ç”¨æˆ·å>/.UGTools/` |
| **Linux** | `/home/<ç”¨æˆ·å>/.UGTools/` |

### ç›®å½•ç»“æ„

```
~/.UGTools/
â”œâ”€â”€ UGTools.db                    # SQLite æ•°æ®åº“æ–‡ä»¶ï¼ˆæ ¸å¿ƒæ•°æ®ï¼‰
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.setting            # åº”ç”¨é…ç½®æ–‡ä»¶ï¼ˆHutool Setting æ ¼å¼ï¼‰
â”œâ”€â”€ images/                       # æœ¬åœ°å›¾åºŠå­˜å‚¨ç›®å½•
â”œâ”€â”€ logs/                         # æ—¥å¿—æ–‡ä»¶ç›®å½•
â””â”€â”€ temp/                         # ä¸´æ—¶æ–‡ä»¶ç›®å½•ï¼ˆLinux ä¸“ç”¨ï¼‰
```

### SQLite æ•°æ®åº“è¡¨ç»“æ„

æ•°æ®åº“æ–‡ä»¶ `UGTools.db` åŒ…å«ä»¥ä¸‹æ•°æ®è¡¨ï¼š

| è¡¨å | è¯´æ˜ | ä¸»è¦å­—æ®µ |
|-----|------|---------|
| `t_quick_note` | éšæ‰‹è®° | id, name, content, create_time, modified_time |
| `t_json_beauty` | JSON æ ¼å¼åŒ–è®°å½• | id, name, content, create_time, modified_time |
| `t_host` | Host é…ç½® | id, name, content, create_time, modified_time |
| `t_msg_http` | HTTP è¯·æ±‚è®°å½• | id, msg_name, method, url, params, headers, cookies, body, body_type |
| `t_qr_code` | äºŒç»´ç å†å² | id, content, create_time, modified_time |
| `t_func_content` | åŠŸèƒ½å†…å®¹ç¼“å­˜ | id, func, content, remark |
| `t_favorite_color_list` | é¢œè‰²æ”¶è—åˆ—è¡¨ | id, title, remark |
| `t_favorite_color_item` | é¢œè‰²æ”¶è—é¡¹ | id, list_id, name, value, sort_num |
| `t_favorite_cron_list` | Cron æ”¶è—åˆ—è¡¨ | id, title, remark |
| `t_favorite_cron_item` | Cron æ”¶è—é¡¹ | id, list_id, name, value |
| `t_favorite_regex_list` | æ­£åˆ™æ”¶è—åˆ—è¡¨ | id, title, remark |
| `t_favorite_regex_item` | æ­£åˆ™æ”¶è—é¡¹ | id, list_id, name, value |
| `t_http_request_history` | HTTP è¯·æ±‚å†å² | è¯·æ±‚è®°å½• |
| `doc` | æ–‡æœ¬å¯¹æ¯”æ–‡æ¡£ | doc_id, name |
| `doc_revision` | æ–‡æ¡£ç‰ˆæœ¬ | rev_id, doc_id, created_at, content |
| `doc_diff_cache` | å·®å¼‚ç¼“å­˜ | from_rev_id, to_rev_id, unified |

### é…ç½®æ–‡ä»¶æ ¼å¼

`config.setting` ä½¿ç”¨ Hutool çš„ Setting æ ¼å¼ï¼ˆç±»ä¼¼ INIï¼‰ï¼š

```ini
[setting.common]
autoCheckUpdate=true
recentTabIndex=0
beforeVersion=v0.0.1

[setting.normal]
defaultMaxWindow=false
unifiedBackground=true
themeColorFollowSystem=true

[setting.appearance]
theme=Flat macOS Dark
font=å¾®è½¯é›…é»‘
fontSize=12
accentColor=blue

[setting.quickNote]
fontName=JetBrains Mono
fontSize=14

[setting.http]
useProxy=false
proxyHost=
proxyPort=
```

---

## ğŸš€ æ„å»ºä¸æ‰“åŒ…

### ç¯å¢ƒè¦æ±‚
- **JDK 21+**ï¼ˆæ¨èä½¿ç”¨ Eclipse Temurin æˆ– Oracle JDKï¼‰
- **Maven 3.6+**
- **IntelliJ IDEA**ï¼ˆæ¨èï¼Œæ”¯æŒ .form GUI è®¾è®¡å™¨ï¼‰

### å¼€å‘ç¯å¢ƒè¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®å
cd UGTools

# ç¼–è¯‘è¿è¡Œ
mvn clean compile exec:java -Dexec.mainClass="top.ug666.ug.tools.App"
```

æˆ–åœ¨ IDE ä¸­ç›´æ¥è¿è¡Œ `App.java` çš„ main æ–¹æ³•ã€‚

### æ„å»º JAR åŒ…

```bash
mvn clean package -DskipTests
```

æ„å»ºäº§ç‰©ä½äº `target/UGTools-0.0.1.jar`

### è¿è¡Œ JAR

```bash
java -Dswing.aatext=true \
     -XX:+UseZGC -XX:+ZGenerational -XX:-ZUncommit \
     -Xms128m -Xmx512m \
     --add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED \
     --add-exports jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED \
     --add-exports jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED \
     --add-exports jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED \
     --add-exports jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \
     -jar target/UGTools-0.0.1.jar
```

---

## ğŸ“¦ æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆEXE / App / å®‰è£…åŒ…ï¼‰

é¡¹ç›®ä½¿ç”¨ **JavaPackager** æ’ä»¶è¿›è¡Œè·¨å¹³å°æ‰“åŒ…ï¼Œé…ç½®ä½äº `pom.xml`ã€‚

### æ‰“åŒ…å‘½ä»¤

```bash
# å®Œæ•´æ‰“åŒ…ï¼ˆä¼šæ ¹æ® pom.xml é…ç½®æ‰“åŒ…ï¼‰
mvn clean package -DskipTests
```

### æ‰“åŒ…é…ç½®è¯´æ˜ (pom.xml)

```xml
<plugin>
    <groupId>io.github.fvarrui</groupId>
    <artifactId>javapackager</artifactId>
    <version>1.7.5</version>
    <configuration>
        <!-- æ‰“åŒ… JRE -->
        <bundleJre>true</bundleJre>
        <!-- ä¸»ç±» -->
        <mainClass>top.ug666.ug.tools.App</mainClass>
        <!-- ç”Ÿæˆå®‰è£…ç¨‹åº -->
        <generateInstaller>true</generateInstaller>
        <!-- JVM å‚æ•° -->
        <vmArgs>
            -Dswing.aatext=true 
            -XX:+UseZGC -XX:+ZGenerational -XX:-ZUncommit 
            -Xms128m -Xmx512m 
            --add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED
            ...
        </vmArgs>
    </configuration>
</plugin>
```

### Windows æ‰“åŒ…ï¼ˆç”Ÿæˆ EXE + å®‰è£…ç¨‹åºï¼‰

å–æ¶ˆ pom.xml ä¸­ Windows æ‰“åŒ…é…ç½®çš„æ³¨é‡Šï¼š

```xml
<execution>
    <id>bundling-for-windows</id>
    <phase>package</phase>
    <goals>
        <goal>package</goal>
    </goals>
    <configuration>
        <platform>windows</platform>
        <createZipball>true</createZipball>
        <administratorRequired>true</administratorRequired>
        <winConfig>
            <generateSetup>true</generateSetup>      <!-- Inno Setup å®‰è£…ç¨‹åº -->
            <generateMsi>true</generateMsi>          <!-- MSI å®‰è£…ç¨‹åº -->
            <setupMode>installForAllUsers</setupMode>
            <createDesktopIconTask>true</createDesktopIconTask>
        </winConfig>
    </configuration>
</execution>
```

**Windows æ‰“åŒ…é¢å¤–ä¾èµ–ï¼š**
- [Inno Setup](https://jrsoftware.org/isinfo.php) - ç”Ÿæˆ Setup.exe
- [WiX Toolset](https://wixtoolset.org/) - ç”Ÿæˆ MSI å®‰è£…åŒ…

### macOS æ‰“åŒ…ï¼ˆç”Ÿæˆ .appï¼‰

å½“å‰ pom.xml é»˜è®¤å¯ç”¨äº† macOS æ‰“åŒ…ï¼š

```xml
<execution>
    <id>bundling-for-mac</id>
    <phase>package</phase>
    <goals>
        <goal>package</goal>
    </goals>
    <configuration>
        <platform>mac</platform>
        <createTarball>true</createTarball>
        <macConfig>
            <macStartup>UNIVERSAL</macStartup>  <!-- æ”¯æŒ Intel + Apple Silicon -->
        </macConfig>
    </configuration>
</execution>
```

æ„å»ºåäº§ç‰©ï¼š`target/UGTools.app` å’Œ `target/UGTools-0.0.1-mac.tar.gz`

### Linux æ‰“åŒ…

å–æ¶ˆ pom.xml ä¸­ Linux é…ç½®çš„æ³¨é‡Šå³å¯ã€‚

### æ‰“åŒ…è¾“å‡ºç›®å½•

```
target/
â”œâ”€â”€ UGTools-0.0.1.jar           # å¯æ‰§è¡Œ JAR
â”œâ”€â”€ UGTools/                     # æ‰“åŒ…åçš„åº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ UGTools.exe             # Windows å¯æ‰§è¡Œæ–‡ä»¶
â”‚   â”œâ”€â”€ UGTools.app/            # macOS åº”ç”¨ç¨‹åº
â”‚   â”œâ”€â”€ jre/                    # æ†ç»‘çš„ JRE
â”‚   â””â”€â”€ ...
â”œâ”€â”€ UGTools-0.0.1-windows.zip   # Windows ä¾¿æºç‰ˆ
â”œâ”€â”€ UGTools-0.0.1-mac.tar.gz    # macOS å‹ç¼©åŒ…
â””â”€â”€ UGTools_Setup.exe           # Windows å®‰è£…ç¨‹åºï¼ˆå¦‚å¯ç”¨ï¼‰
```

---

## ğŸ¨ ä¸»é¢˜ä¸å¤–è§‚

### æ”¯æŒçš„ä¸»é¢˜

é¡¹ç›®é›†æˆäº† FlatLaf åŠå…¶ IntelliJ ä¸»é¢˜æ‰©å±•ï¼š

| ä¸»é¢˜åç§° | ç±»å‹ | è¯´æ˜ |
|---------|------|------|
| Flat Light | æµ…è‰² | FlatLaf é»˜è®¤æµ…è‰² |
| Flat Dark | æ·±è‰² | FlatLaf é»˜è®¤æ·±è‰² |
| Flat Darcula | æ·±è‰² | IntelliJ Darcula é£æ ¼ |
| Flat IntelliJ | æµ…è‰² | IntelliJ é»˜è®¤æµ…è‰² |
| Flat macOS Light | æµ…è‰² | macOS é£æ ¼æµ…è‰² |
| Flat macOS Dark | æ·±è‰² | macOS é£æ ¼æ·±è‰² |
| Monokai Pro | æ·±è‰² | Monokai é…è‰² |
| One Dark | æ·±è‰² | Atom One Dark |
| GitHub Dark | æ·±è‰² | GitHub æ·±è‰²ä¸»é¢˜ |
| Dark Purple | æ·±è‰² | ç´«è‰²ä¸»é¢˜ |
| ç³»ç»Ÿé»˜è®¤ | - | ä½¿ç”¨ç³»ç»ŸåŸç”Ÿå¤–è§‚ |

### ä¸»é¢˜è·Ÿéšç³»ç»Ÿ

å¯ç”¨åä¼šè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿæ·±æµ…è‰²æ¨¡å¼åˆ‡æ¢ï¼š
- ä½¿ç”¨ `jthemedetecor` åŒ…æ£€æµ‹ç³»ç»Ÿä¸»é¢˜
- Windows/macOS/Linux å‡æ”¯æŒ

### è‡ªå®šä¹‰å¼ºè°ƒè‰²

æ”¯æŒä»¥ä¸‹å¼ºè°ƒè‰²ï¼š
- blueï¼ˆé»˜è®¤ï¼‰
- purple
- red
- orange
- yellow
- green

---

## âš™ï¸ æ ¸å¿ƒä»£ç è¯´æ˜

### åº”ç”¨å…¥å£ - App.java

```java
package top.ug666.ug.tools;

@Slf4j
public class App {
    // å…¨å±€é…ç½®å®ä¾‹
    public static ConfigUtil config = ConfigUtil.getInstance();
    
    // ä¸»çª—å£
    public static MainFrame mainFrame;
    
    // MyBatis SqlSessionï¼ˆå…¨å±€å•ä¾‹ï¼‰
    public static SqlSession sqlSession = MybatisUtil.getSqlSession();
    
    // ç³»ç»Ÿæ‰˜ç›˜
    public static SystemTray tray;
    public static TrayIcon trayIcon;
    
    // ä¸´æ—¶ç›®å½•
    public static File tempDir = null;

    public static void main(String[] args) {
        // 1. macOS ç‰¹æ®Šè®¾ç½®ï¼ˆèœå•æ ã€åº”ç”¨åç­‰ï¼‰
        // 2. æ³¨å†Œè‡ªå®šä¹‰ä¸»é¢˜æº
        // 3. åˆå§‹åŒ–ä¸»é¢˜
        // 4. åˆ›å»ºä¸»çª—å£
        // 5. æ‰§è¡Œå¹³æ»‘å‡çº§
        // 6. åˆå§‹åŒ–å…¨å±€å­—ä½“
        // 7. åˆå§‹åŒ–æ‰€æœ‰åŠŸèƒ½æ ‡ç­¾é¡µ
    }
}
```

### é…ç½®ç®¡ç† - ConfigUtil.java

å•ä¾‹æ¨¡å¼ï¼ŒåŸºäº Hutool çš„ Settingï¼š

```java
public class ConfigUtil extends ConfigBaseUtil {
    private static ConfigUtil configUtil = new ConfigUtil();
    
    // é…ç½®é¡¹ç¤ºä¾‹
    public String getTheme() { ... }
    public void setTheme(String theme) { ... }
    public int getFontSize() { ... }
    public void setFontSize(int size) { ... }
    
    // ä¿å­˜é…ç½®åˆ°æ–‡ä»¶
    public void save() { ... }
}
```

### æ•°æ®åº“å·¥å…· - MybatisUtil.java

```java
public class MybatisUtil {
    // æ•°æ®åº“æ–‡ä»¶è·¯å¾„
    private static File dbFile = new File(
        SystemUtil.CONFIG_HOME + File.separator + "UGTools.db"
    );
    
    // è·å– SqlSessionï¼ˆæ‡’åŠ è½½å•ä¾‹ï¼‰
    public static SqlSession getSqlSession() {
        if (sqlSession == null) {
            // 1. æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆå§‹åŒ–
            // 2. è¯»å– mybatis-config.xml
            // 3. åˆ›å»º SqlSessionFactory
            // 4. æ‰§è¡Œè¡¨åˆå§‹åŒ–
        }
        return sqlSession;
    }
    
    // åˆå§‹åŒ–æ•°æ®åº“ï¼ˆæ‰§è¡Œ db_init.sqlï¼‰
    public static void initDbFile() { ... }
}
```

### ç³»ç»Ÿå·¥å…· - SystemUtil.java

```java
public class SystemUtil {
    // ç”¨æˆ·ä¸»ç›®å½•
    private static final String USER_HOME = System.getProperty("user.home");
    
    // é…ç½®ç›®å½•
    public static final String CONFIG_HOME = USER_HOME + File.separator + ".UGTools";
    
    // æ—¥å¿—ç›®å½•
    public static final String LOG_DIR = CONFIG_HOME + File.separator + "logs";
    
    // ç³»ç»Ÿæ£€æµ‹æ–¹æ³•
    public static boolean isMacOs() { ... }
    public static boolean isWindowsOs() { ... }
    public static boolean isLinuxOs() { ... }
}
```

### UI åˆå§‹åŒ– - Init.java

```java
public class Init {
    // åˆå§‹åŒ–ä¸»é¢˜
    public static void initTheme() {
        // æ ¹æ®é…ç½®é€‰æ‹©ä¸»é¢˜
        // æ”¯æŒè·Ÿéšç³»ç»Ÿæ·±æµ…è‰²
    }
    
    // åˆå§‹åŒ–å…¨å±€å­—ä½“
    public static void initGlobalFont() {
        // æ ¹æ®ç³»ç»Ÿå’Œé…ç½®è®¾ç½®å­—ä½“
    }
    
    // åˆå§‹åŒ–æ‰€æœ‰åŠŸèƒ½æ ‡ç­¾é¡µ
    public static void initAllTab() {
        ThreadUtil.execute(QuickNoteForm::init);
        ThreadUtil.execute(TimeConvertForm::init);
        // ... å…¶ä»–åŠŸèƒ½æ¨¡å—åˆå§‹åŒ–
    }
}
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—

1. **åˆ›å»º Form ç±»**
   - åœ¨ `ui/form/func/` ä¸‹åˆ›å»º `XXXForm.java` å’Œ `XXXForm.form`ï¼ˆIDEA GUI Designerï¼‰

2. **åˆ›å»º Listener ç±»**
   - åœ¨ `ui/listener/func/` ä¸‹åˆ›å»º `XXXListener.java`

3. **æ³¨å†Œåˆ°ä¸»çª—å£**
   - åœ¨ `MainWindow.form` ä¸­æ·»åŠ  Tab
   - åœ¨ `Init.initAllTab()` ä¸­æ·»åŠ åˆå§‹åŒ–è°ƒç”¨

4. **å¦‚éœ€æ•°æ®åº“**
   - åœ¨ `db_init.sql` æ·»åŠ å»ºè¡¨è¯­å¥
   - åˆ›å»ºå¯¹åº”çš„ Beanã€DAOã€Mapper

### IntelliJ IDEA GUI Designer

é¡¹ç›®ä½¿ç”¨ IDEA çš„ GUI Designer è®¾è®¡ç•Œé¢ï¼š
- `.form` æ–‡ä»¶æ˜¯ GUI è®¾è®¡æ–‡ä»¶
- `.java` æ–‡ä»¶æ˜¯ç”Ÿæˆçš„ä»£ç 
- éœ€è¦åœ¨ IDEA ä¸­å®‰è£… GUI Designer æ’ä»¶
- è®¾ç½®ï¼šFile â†’ Settings â†’ Editor â†’ GUI Designer â†’ Generate GUI into: Java source code

### ä»£ç é£æ ¼

- ä½¿ç”¨ Lombok ç®€åŒ–ä»£ç ï¼ˆ@Slf4j, @Data, @Getter ç­‰ï¼‰
- DAO å±‚ä½¿ç”¨ MyBatis Mapper
- å·¥å…·ç±»ä½¿ç”¨é™æ€æ–¹æ³•
- UI äº‹ä»¶å¤„ç†åœ¨ Listener ç±»ä¸­

---

## ğŸ“ ç‰ˆæœ¬å‡çº§æœºåˆ¶

### æ•°æ®åº“å‡çº§

å‡çº§è„šæœ¬ä½äº `resources/upgrade/` ç›®å½•ï¼š

```
upgrade/
â”œâ”€â”€ 1.sql      # ç‰ˆæœ¬ 1 çš„å‡çº§è„šæœ¬
â”œâ”€â”€ 4.sql      # ç‰ˆæœ¬ 4 çš„å‡çº§è„šæœ¬
â”œâ”€â”€ 12.sql     # ç‰ˆæœ¬ 12 çš„å‡çº§è„šæœ¬
â””â”€â”€ ...
```

`UpgradeUtil.java` ä¼šæ ¹æ®ç‰ˆæœ¬å·è‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„å‡çº§è„šæœ¬ã€‚

### ç‰ˆæœ¬ä¿¡æ¯

`version_summary.json` è®°å½•ç‰ˆæœ¬ä¿¡æ¯ï¼š

```json
{
  "currentVersion": "v0.0.0",
  "versionIndex": {
    "v0.0.0": "0"
  },
  "versionDetailList": [
    {
      "version": "v0.0.0",
      "title": "åŸºç¡€ç‰ˆæœ¬",
      "log": "åŸºç¡€ç‰ˆæœ¬\n"
    }
  ]
}
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: å¯åŠ¨æŠ¥é”™ "module jdk.compiler does not export..."

A: éœ€è¦æ·»åŠ  JVM å‚æ•°ï¼š
```
--add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED
--add-exports jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED
--add-exports jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED
--add-exports jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED
--add-exports jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED
```

### Q: å¦‚ä½•è¿ç§»æ•°æ®åˆ°æ–°ç”µè„‘ï¼Ÿ

A: å¤åˆ¶æ•´ä¸ª `~/.UGTools/` ç›®å½•åˆ°æ–°ç”µè„‘å³å¯ã€‚

### Q: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ

A: å¤‡ä»½ä»¥ä¸‹æ–‡ä»¶ï¼š
- `~/.UGTools/UGTools.db` - æ•°æ®åº“
- `~/.UGTools/config/config.setting` - é…ç½®
- `~/.UGTools/images/` - æœ¬åœ°å›¾åºŠå›¾ç‰‡

### Q: å¦‚ä½•ä¿®æ”¹æ•°æ®å­˜å‚¨ä½ç½®ï¼Ÿ

A: åœ¨è®¾ç½®ä¸­å¯ä»¥é…ç½® `dbFilePath` æŒ‡å‘è‡ªå®šä¹‰è·¯å¾„ã€‚

---

## ğŸ™ è‡´è°¢

- [MooTool](https://github.com/rememberber/MooTool) - åŸé¡¹ç›®
- [Hutool](http://hutool.cn/) - Java å·¥å…·ç±»åº“
- [FlatLaf](https://github.com/JFormDesigner/FlatLaf) - ç°ä»£åŒ– Swing ä¸»é¢˜
- [vscode-icons](https://github.com/microsoft/vscode-icons) - å›¾æ ‡èµ„æº
- [iconfont](https://www.iconfont.cn/) - å›¾æ ‡èµ„æº

---

**é¡¹ç›®åœ°å€**: `https://ug666.top/UGTools`  
**åŒ…å**: `top.ug666.ug.tools`  
**ä¸»ç±»**: `top.ug666.ug.tools.App`  
**å½“å‰ç‰ˆæœ¬**: v0.0.1  
**æœ€åæ›´æ–°**: 2025å¹´11æœˆ29æ—¥
